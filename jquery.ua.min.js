var UA=function(){function p(){(function(a,b,c,f,d,e,g){a.GoogleAnalyticsObject=d;a[d]=a[d]||function(){(a[d].q=a[d].q||[]).push(arguments)};a[d].l=1*new Date;e=b.createElement(c);g=b.getElementsByTagName(c)[0];e.async=1;e.src=f;g.parentNode.insertBefore(e,g)})(window,document,"script","//www.google-analytics.com/analytics.js","ga")}function q(){if($(".ua_addImpression").size()){var a=0,b="id name list brand category variant position price".split(" ");$(".ua_addImpression").each(function(){var c=
$(this);c.removeClass("ua_addImpression");c.addClass("ua_addImpression-sent");var c={},f;for(f in b){var d=b[f];$(this).data(d)&&(c[d]=$(this).data(d))}ga("ec:addImpression",c);a++;a%20||g()});g()}}function r(){$(".ua_addProduct").each(function(){var a=$(this).data("ua-ec-actions");if(a){actionsArray=a.split(" ");for(var b in actionsArray)k(actionsArray[b],$(this));a=$(this);a.removeClass("ua_addProduct");a.addClass("ua_addProduct-sent")}})}function k(a,b,c){var f=ga,d;d=l(b,"id name brand category variant position price quantity".split(" "),
"product-");f("ec:addProduct",d);b=l(b,"id affiliation revenue tax shipping coupon list step option".split(" "),"action-");$.isEmptyObject(b)?ga("ec:setAction",a):ga("ec:setAction",a,b);g(c)}function l(a,b,c){var f={};c=c||"";for(var d in b){var e=b[d];a.data(c+e)?f[e]=a.data(c+e):"id"!=e&&a.data(e)&&(f[e]=a.data(e))}return f}function g(a){var b={hitType:"event",eventCategory:"prop_ua",eventAction:"prop_ua_action",nonInteraction:1};a&&(b.hitCallback=function(){a()});ga("send",b)}function h(a){m[a]||
(ga("require",a),m[a]=!0)}var n=!1,m={ec:!1};return{init:function(a){p();ga("create",a,"auto")},sendImpressions:function(){$(function(){h("ec");q()})},sendProductActions:function(){$(function(){h("ec");r()})},sendSingleProductAction:function(a,b,c){$(function(){h("ec");k(a,b,c)})},sendPageview:function(a){n&&!a?console.warn("[UA] 'pageview' was already sent - use 'forceSend'."):(n=!0,$(function(){ga("send",{hitType:"pageview"})}))}}}();
