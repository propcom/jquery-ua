var UA=function(){function t(){(function(a,b,c,e,d,f,g){a.GoogleAnalyticsObject=d;a[d]=a[d]||function(){(a[d].q=a[d].q||[]).push(arguments)};a[d].l=1*new Date;f=b.createElement(c);g=b.getElementsByTagName(c)[0];f.async=1;f.src=e;g.parentNode.insertBefore(f,g)})(window,document,"script","//www.google-analytics.com/analytics.js","ga")}function u(){if($(".ua_addImpression").size()){var a=0,b="id name list brand category variant position price".split(" ");$(".ua_addImpression").each(function(){k($(this),
"ua_addImpression");var c={},e;for(e in b){var d=b[e];$(this).data(d)&&(c[d]=$(this).data(d))}ga("ec:addImpression",c);a++;a%20||h()});h()}}function v(){$(".ua_addProduct").each(function(){var a=$(this).data("ua-ec-actions");if(a){actionsArray=a.split(" ");for(var b in actionsArray)m(actionsArray[b],$(this));k($(this),"ua_addProduct")}})}function m(a,b,c){var e=ga,d;d=l(b,"id name brand category variant position price quantity".split(" "),"product-");e("ec:addProduct",d);b=n(b);$.isEmptyObject(b)?
ga("ec:setAction",a):ga("ec:setAction",a,b);h(c)}function w(){if($(".ua_addPromoImpression").size()){var a=["id","name","creative","position"];$(".ua_addPromoImpression").each(function(){k($(this),"ua_addPromoImpression");var b={},c;for(c in a){var e=a[c];$(this).data(e)&&(b[e]=$(this).data(e))}ga("ec:addPromo",b)});h()}}function x(){$(".ua_addPromoClick").each(function(){p("promo_click",$(this));k($(this),"ua_addPromo")})}function p(a,b,c){var e=ga,d;d=l(b,["id","name","creative","position"]);e("ec:addPromo",
d);b=n(b);$.isEmptyObject(b)?ga("ec:setAction",a):ga("ec:setAction",a,b);h(c)}function k(a,b){a.removeClass(b);a.addClass(b+"-sent")}function n(a){return l(a,"id affiliation revenue tax shipping coupon list step option".split(" "),"action-")}function l(a,b,c){var e={};c=c||"";for(var d in b){var f=b[d];a.data(c+f)?e[f]=a.data(c+f):"id"!=f&&a.data(f)&&(e[f]=a.data(f))}return e}function h(a){var b={hitType:"event",eventCategory:"prop_ua",eventAction:"prop_ua_action",nonInteraction:1};a&&(b.hitCallback=
function(){a()});ga("send",b)}function g(a){q[a]||(ga("require",a),q[a]=!0)}var r=!1,q={ec:!1};return{init:function(a){t();ga("create",a,"auto")},sendImpressions:function(){$(function(){g("ec");u()})},sendProductActions:function(){$(function(){g("ec");v()})},sendSingleProductAction:function(a,b,c){$(function(){g("ec");m(a,b,c)})},sendPromoImpressions:function(){$(function(){g("ec");w()})},sendPromoClicks:function(){$(function(){g("ec");x()})},sendSinglePromoClick:function(a,b){$(function(){g("ec");
p("promo_click",a,b)})},sendPageview:function(a){r&&!a?console.warn("[UA] 'pageview' was already sent - use 'forceSend'."):(r=!0,$(function(){ga("send",{hitType:"pageview"})}))}}}();
